<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"
    "http://struts.apache.org/dtds/struts-2.1.7.dtd">

<struts>

	<constant name="struts.devMode" value="true" />
	
	<constant name="struts.convention.action.suffix" value="Controller" />
	
	<!-- These constants can be used to configure the Conversation Plugin -->
		<!-- see also:  http://code.google.com/p/struts2-conversation/wiki/NestingConversations -->
		<!-- see also:  http://code.google.com/p/struts2-conversation/wiki/UsageGuide#Memory_Management -->
	<constant name="conversation.package.nesting" value="false" /> 
	<constant name="conversation.monitoring.frequency" value="10000"/> 
	<constant name="conversation.idle.timeout" value="90000"/> 
	<constant name="conversation.max.instances" value="5"/>
	<constant name="conversation.monitoring.thread.pool.size" value="5"/>

	<bean type="org.byars.struts2.example.services.RegistrationService"
		class="org.byars.struts2.example.services.RegistrationServiceImpl" />

	<package name="registration" namespace="/registration"
		extends="struts-conversation-default">
		
		<interceptors>
			<interceptor-stack name="registrationStack">
				<interceptor-ref name="conversation"/>
				<interceptor-ref name="defaultStack" />
			</interceptor-stack>
		</interceptors>
		<default-interceptor-ref name="registrationStack" />

		<action name="*" class="org.byars.struts2.example.actions.RegistrationController" method="{1}">
			<result name="success">{1}-success.jsp</result>
		</action>

	</package>

</struts>